(this["webpackJsonpweather.bulletin"]=this["webpackJsonpweather.bulletin"]||[]).push([[0],{47:function(e,n,a){},48:function(e,n,a){},49:function(e,n,a){},64:function(e,n,a){"use strict";a.r(n);var t=a(0),o=a.n(t),c=a(15),i=a.n(c),r=(a(47),a(31)),s=(a(48),a(49),a(24)),m=a(36),l=a.n(m),d=a(18),h=a.n(d);var u=a(2);function g(e){var n=e.weatherData,a=e.zipCode,o="https://openweathermap.org/img/wn/";console.log(n.list);var c=n.city.name,i=function(e){if("string"===typeof e){e=parseInt(e,10);var n=[{min:35e3,max:36999,code:"AL",long:"Alabama"},{min:99500,max:99999,code:"AK",long:"Alaska"},{min:85e3,max:86999,code:"AZ",long:"Arizona"},{min:71600,max:72999,code:"AR",long:"Arkansas"},{min:9e4,max:96699,code:"CA",long:"California"},{min:8e4,max:81999,code:"CO",long:"Colorado"},{min:6e3,max:6999,code:"CT",long:"Connecticut"},{min:19700,max:19999,code:"DE",long:"Deleware"},{min:32e3,max:34999,code:"FL",long:"Florida"},{min:3e4,max:31999,code:"GA",long:"Georgia"},{min:96700,max:96999,code:"HI",long:"Hawaii"},{min:83200,max:83999,code:"ID",long:"Idaho"},{min:6e4,max:62999,code:"IL",long:"Illinois"},{min:46e3,max:47999,code:"IN",long:"Indiana"},{min:5e4,max:52999,code:"IA",long:"Iowa"},{min:66e3,max:67999,code:"KS",long:"Kansas"},{min:4e4,max:42999,code:"KY",long:"Kentucky"},{min:7e4,max:71599,code:"LA",long:"Louisiana"},{min:3900,max:4999,code:"ME",long:"Maine"},{min:20600,max:21999,code:"MD",long:"Maryland"},{min:1e3,max:2799,code:"MA",long:"Massachusetts"},{min:48e3,max:49999,code:"MI",long:"Michigan"},{min:55e3,max:56999,code:"MN",long:"Minnesota"},{min:38600,max:39999,code:"MS",long:"Mississippi"},{min:63e3,max:65999,code:"MO",long:"Missouri"},{min:59e3,max:59999,code:"MT",long:"Montana"},{min:27e3,max:28999,code:"NC",long:"North Carolina"},{min:58e3,max:58999,code:"ND",long:"North Dakota"},{min:68e3,max:69999,code:"NE",long:"Nebraska"},{min:88900,max:89999,code:"NV",long:"Nevada"},{min:3e3,max:3899,code:"NH",long:"New Hampshire"},{min:7e3,max:8999,code:"NJ",long:"New Jersey"},{min:87e3,max:88499,code:"NM",long:"New Mexico"},{min:1e4,max:14999,code:"NY",long:"New York"},{min:43e3,max:45999,code:"OH",long:"Ohio"},{min:73e3,max:74999,code:"OK",long:"Oklahoma"},{min:97e3,max:97999,code:"OR",long:"Oregon"},{min:15e3,max:19699,code:"PA",long:"Pennsylvania"},{min:300,max:999,code:"PR",long:"Puerto Rico"},{min:2800,max:2999,code:"RI",long:"Rhode Island"},{min:29e3,max:29999,code:"SC",long:"South Carolina"},{min:57e3,max:57999,code:"SD",long:"South Dakota"},{min:37e3,max:38599,code:"TN",long:"Tennessee"},{min:75e3,max:79999,code:"TX",long:"Texas"},{min:88500,max:88599,code:"TX",long:"Texas"},{min:84e3,max:84999,code:"UT",long:"Utah"},{min:5e3,max:5999,code:"VT",long:"Vermont"},{min:22e3,max:24699,code:"VA",long:"Virgina"},{min:2e4,max:20599,code:"DC",long:"Washington DC"},{min:98e3,max:99499,code:"WA",long:"Washington"},{min:24700,max:26999,code:"WV",long:"West Virginia"},{min:53e3,max:54999,code:"WI",long:"Wisconsin"},{min:82e3,max:83199,code:"WY",long:"Wyoming"}].filter((function(n){return n.min<=e&&n.max>=e}));return 0!==n.length&&(n.length>1&&console.error("Whoops found two states"),{code:n[0].code,long:n[0].long})}console.log("Must pass the zipcode as a string. -- Otherwise leading zeros could cause your zip code to be parsed outside base 10.")}(a).code,r=l.a.lookup(a),m=Object(t.useState)(h.a.tz(h()(),r).format("h:mm A")),d=Object(s.a)(m,2),g=d[0],x=d[1],j=function(e){var n=Object(t.useRef)();return Object(t.useEffect)((function(){n.current=e})),n.current}(r);Object(t.useEffect)((function(){x(h.a.tz(h()(),r).format("h:mm A"));var e=setInterval((function(){x(h.a.tz(h()(),r).format("h:mm A"))}),6e4);return function(){clearInterval(e)}}),[j,r]);var p={},b="",O=!0;for(var f in n.list){var N=n.list[f],w=h.a.tz(N.dt_txt+"+0000",r),v=w.format("YYYY-MM-DD"),M=w.format("ddd, MMM Do"),z=w.format("h:mm A");console.log(v,z,M);var y=Math.round(N.main.temp_min),C=Math.round(N.main.temp_max);if(console.log(v,y,C),console.log(N.weather[0]),O){var A=Math.round(N.main.temp),I=N.weather[0].icon,D=N.weather[0].main;O=!1}v!==b&&(p[v]={},p[v].times=[],p[v].string=M,p[v].min=1e7,p[v].max=0,p[v].total_inc=0),y<p[v].min&&(p[v].min=y),C>p[v].max&&(p[v].max=C),p[v].times.push({time:z,weather:N.weather[0],temp:Math.round(N.main.temp)}),console.log(p[v]),b=v,p[v].total_inc+=1}return console.log(p),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"weather-header-wrapper",children:[Object(u.jsxs)("h2",{className:"weather-header",children:[c,", ",i]}),Object(u.jsx)("div",{className:"current-time",children:g}),Object(u.jsxs)("div",{className:"current-weather",children:[A,"\u02da"]}),Object(u.jsx)("img",{className:"current-icon",alt:D,src:o+I+"@2x.png"})]}),Object(u.jsx)("div",{className:"day-container",children:Object.keys(p).map((function(e){return 8===p[e].total_inc?Object(u.jsxs)("div",{className:"day-wrapper",children:[Object(u.jsxs)("div",{className:"date-wrapper",children:[Object(u.jsx)("span",{className:"day-title",children:p[e].string}),Object(u.jsxs)("span",{className:"max-temp",children:[p[e].max,"\u02da"]}),Object(u.jsxs)("span",{className:"min-temp",children:[p[e].min,"\u02da"]})]}),p[e].times.map((function(n,a){return Object(u.jsxs)("div",{className:"time-wrapper",children:[Object(u.jsx)("span",{className:"hour-time",children:n.time}),Object(u.jsxs)("span",{className:"hour-temp",children:[n.temp,"\u02da"]}),Object(u.jsx)("img",{alt:n.weather.main,src:o+n.weather.icon+"@2x.png"})]},e+"-"+a)}))]},e):""}))})]})}var x=a(81),j=a(82),p=a(80),b=a(37),O=a.n(b),f=a(4),N=a(32),w=a.n(N);function v(){var e=Object(f.d)(),n=new URLSearchParams(e.location.search),a=Object(t.useState)(n.get("zip")),o=Object(s.a)(a,2),c=o[0],r=o[1],m=Object(t.useState)(n.get("units")||"imperial"),l=Object(s.a)(m,2),d=l[0],h=l[1];Object(t.useEffect)((function(){c&&b(d)}),[]),Object(t.useEffect)((function(){c?w()(".zip-clear").css({display:"block"}):w()(".zip-clear").css({display:"none"})}),[c]);function b(e){console.log(c),fetch("".concat("https://api.openweathermap.org/data/2.5/forecast","?zip=").concat(c,",us&temp_min&units=").concat(e,"&APPID=").concat("b8c57c1c1fe78770517a0b492af57a54")).then((function(e){return e.ok?e.json():""===c?Promise.reject("Please enter a zip code"):Promise.reject("Unrecognized zip code")})).then((function(e){return i.a.render(Object(u.jsx)(g,{weatherData:e,zipCode:c}),document.getElementById("weather-day-container"))})).catch((function(e){return i.a.render(Object(u.jsx)("div",{className:"weather-header-wrapper",children:Object(u.jsx)("h2",{className:"weather-header error",style:{"font-weight":"200"},children:e})}),document.getElementById("weather-day-container"))}))}return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("form",{className:"zip-form",onSubmit:function(e){e.preventDefault(),b(d)},children:[Object(u.jsxs)("label",{className:"zip-label",children:[Object(u.jsx)("input",{className:"zip-input",placeholder:"Zip Code",type:"text",onChange:function(a){r(a.target.value),n.set("zip",a.target.value),e.push({search:n.toString()})},value:c,maxLength:"5"}),Object(u.jsx)("a",{onClick:function(a){r(""),n.set("zip",""),e.push({search:n.toString()})},className:"zip-clear",children:Object(u.jsx)(O.a,{})})]}),Object(u.jsx)(p.a,{id:"zip-submit",type:"submit",children:"Check Weather"})]}),Object(u.jsxs)(j.a,{className:"unit-buttons",value:d,exclusive:!0,onChange:function(a,t){n.set("units",t),e.push({search:n.toString()}),null!==t&&h(t,b(t))},"aria-label":"temperature units",children:[Object(u.jsx)(x.a,{value:"imperial",children:"F\u02da"}),Object(u.jsx)(x.a,{value:"metric",children:"C\u02da"})]})]})}var M=function(){return Object(u.jsx)(r.a,{children:Object(u.jsxs)("div",{className:"outer-wrapper",children:[Object(u.jsx)("div",{className:"nav-border-wrapper",children:Object(u.jsxs)("div",{className:"nav-wrapper",children:[Object(u.jsx)("h1",{children:"WEATHER.BULLETIN"}),Object(u.jsx)(v,{})]})}),Object(u.jsx)("div",{id:"weather-day-container"})]})})},z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,83)).then((function(n){var a=n.getCLS,t=n.getFID,o=n.getFCP,c=n.getLCP,i=n.getTTFB;a(e),t(e),o(e),c(e),i(e)}))};a.p;i.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(M,{})}),document.getElementById("root")),z()}},[[64,1,2]]]);
//# sourceMappingURL=main.f930f597.chunk.js.map